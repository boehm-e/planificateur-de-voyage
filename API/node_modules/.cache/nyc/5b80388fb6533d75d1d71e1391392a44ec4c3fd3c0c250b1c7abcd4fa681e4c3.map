{"version":3,"sources":["auth.js"],"names":["authRoutes","express","Router","route","all","passport","authenticate","session","authCtrl","auth","post","utils","validateReqBody","usersCtrl","joiSchema","create","login"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,UAAU,GAAGC,oBAAQC,MAAR,EAAnB;;AAEAF,UAAU,CAACG,KAAX,CAAiB,GAAjB,EACKC,GADL,CAEQC,qBAASC,YAAT,CAAsB,KAAtB,EAA6B;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAA7B,CAFR,EAGQC,iBAASC,IAHjB;AAMAT,UAAU,CAACG,KAAX,CAAiB,WAAjB,EACKO,IADL,CAEQC,kBAAMC,eAAN,CAAsBC,kBAAUC,SAAhC,CAFR,EAGQD,kBAAUE,MAHlB;AAMAf,UAAU,CAACG,KAAX,CAAiB,QAAjB,EACKO,IADL,CAEQC,kBAAMC,eAAN,CAAsBC,kBAAUC,SAAhC,CAFR,EAGQN,iBAASQ,KAHjB;eAQehB,U","sourceRoot":"/home/erwan/Desktop/ETNA/MOBI/mobi_appli/API/src/routes","sourcesContent":["import express   from 'express';\nimport passport   from 'passport';\nimport utils     from '../helpers/utils';\nimport authCtrl  from '../controllers/auth';\nimport usersCtrl from '../controllers/users';\n\nconst authRoutes = express.Router();\n\nauthRoutes.route('/')\n    .all(\n        passport.authenticate('jwt', { session: false }),\n        authCtrl.auth\n    );\n\nauthRoutes.route('/register')\n    .post(\n        utils.validateReqBody(usersCtrl.joiSchema),\n        usersCtrl.create\n    );\n\nauthRoutes.route('/login')\n    .post(\n        utils.validateReqBody(usersCtrl.joiSchema),\n        authCtrl.login\n    );\n\n\n\nexport default authRoutes;\n"]}