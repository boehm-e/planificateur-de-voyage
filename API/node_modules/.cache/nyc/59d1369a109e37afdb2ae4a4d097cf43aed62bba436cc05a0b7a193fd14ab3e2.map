{"version":3,"sources":["roles.js"],"names":["roleRoutes","express","Router","route","get","passport","authenticate","session","authCtrl","authorizeAdmin","roleCtrl","getAll","post","utils","validateReqBody","joiSchema","create","getById","removeById"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,UAAU,GAAGC,oBAAQC,MAAR,EAAnB;;AAEAF,UAAU,CAACG,KAAX,CAAiB,GAAjB,EACKC,GADL,CAEQC,qBAASC,YAAT,CAAsB,KAAtB,EAA6B;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAA7B,CAFR,EAGQC,iBAASC,cAHjB,EAIQC,kBAASC,MAJjB,EAMKC,IANL,CAOQP,qBAASC,YAAT,CAAsB,KAAtB,EAA6B;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAA7B,CAPR,EAQQC,iBAASC,cARjB,EASQI,kBAAMC,eAAN,CAAsBJ,kBAASK,SAA/B,CATR,EAUQL,kBAASM,MAVjB;AAaAhB,UAAU,CAACG,KAAX,CAAiB,MAAjB,EACKC,GADL,CAEQC,qBAASC,YAAT,CAAsB,KAAtB,EAA6B;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAA7B,CAFR,EAGQC,iBAASC,cAHjB,EAIQC,kBAASO,OAJjB,YAOQZ,qBAASC,YAAT,CAAsB,KAAtB,EAA6B;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAA7B,CAPR,EAQQC,iBAASC,cARjB,EASQC,kBAASQ,UATjB;eAYelB,U","sourceRoot":"/home/erwan/Desktop/ETNA/MOBI/mobi_appli/API/src/routes","sourcesContent":["import express  from 'express';\nimport passport from 'passport';\nimport utils    from '../helpers/utils';\nimport roleCtrl from '../controllers/roles';\nimport authCtrl from '../controllers/auth';\n\nconst roleRoutes = express.Router();\n\nroleRoutes.route('/')\n    .get(\n        passport.authenticate('jwt', { session: false }),\n        authCtrl.authorizeAdmin,\n        roleCtrl.getAll\n    )\n    .post(\n        passport.authenticate('jwt', { session: false }),\n        authCtrl.authorizeAdmin,\n        utils.validateReqBody(roleCtrl.joiSchema),\n        roleCtrl.create\n    );\n\nroleRoutes.route('/:id')\n    .get(\n        passport.authenticate('jwt', { session: false }),\n        authCtrl.authorizeAdmin,\n        roleCtrl.getById\n    )\n    .delete(\n        passport.authenticate('jwt', { session: false }),\n        authCtrl.authorizeAdmin,\n        roleCtrl.removeById\n    );\n\nexport default roleRoutes;\n"]}